<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="t%jtA=!rrmR0^}eo:@X@">angle</variable><variable id="?iu;|b?)1/$h#yvM|yNg">radius</variable><variable id="Q`]Z[.{+6*M/OSXa5?Ys">cx</variable><variable id="QqLU^kYSOCqDYxeESy28">cy</variable><variable id="h3FEn4IZ1Z.av0Gj}7t^">mySprite</variable></variables><block type="pxt-on-start" id="vUD=B#I[,#b|+RF~2N4-" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="dWIE{a$$Cw*#v!ApJ5jo" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let angle = 0" numlines="1" declaredvars="angle"></mutation><next><block type="typescript_statement" id="ORV?V$Q`im{{G2,!!ehE" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="class Platform extends sprites.BaseSprite {" line1="    public map: Image;" line2="    public left: Fx8;" line3="    public top: Fx8;" line4="    public vx: Fx8;" line5="    public vy: Fx8;" line6="    protected riders: Sprite[];" line7="    protected lastLeft: number;" line8="    protected lastTop: number;" line9="" line10="    constructor(map: Image, left: number, top: number) {" line11="        super(1);" line12="" line13="        this.map = map;" line14="        this.left = Fx8(left);" line15="        this.top = Fx8(top);" line16="" line17="        this.lastLeft = left;" line18="        this.lastTop = top;" line19="" line20="        this.vx = Fx8(0);" line21="        this.vy = Fx8(0);" line22="" line23="        this.riders = [];" line24="    }" line25="" line26="    __drawCore(camera: scene.Camera) {" line27="        screen.drawTransparentImage(" line28="            this.map," line29="            Fx.toInt(this.left)," line30="            Fx.toInt(this.top)," line31="        );" line32="    }" line33="" line34="    addRider(rider: Sprite) {" line35="        if (this.riders.indexOf(rider) === -1)" line36="            this.riders.push(rider);" line37="    }" line38="" line39="    move(dx: Fx8, dy: Fx8) {" line40="        this.left = Fx.add(this.left, dx);" line41="        this.top = Fx.add(this.top, dy);" line42="" line43="        const dx2 = Fx.toInt(this.left) - this.lastLeft;" line44="        const dy2 = Fx.toInt(this.top) - this.lastTop;" line45="" line46="        if (dx2 || dy2) {" line47="            this.lastLeft = Fx.toInt(this.left);" line48="            this.lastTop = Fx.toInt(this.top);" line49="" line50="            if (this.riders.length) {" line51="                for (const r of this.riders) {" line52="                    if (dx2) r._x = Fx8(r.left + dx2);" line53="                    if (dy2) r._y = Fx8(r.top + dy2)" line54="                }" line55="            }" line56="        }" line57="    }" line58="" line59="    setVelocity(vx: number, vy: number) {" line60="        this.vx = Fx8(vx);" line61="        this.vy = Fx8(vy);" line62="    }" line63="}" numlines="64"></mutation><next><block type="typescript_statement" id="~clN#D78KH2fni(nPbn)" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const p = new Platform(img`" line1="    . 9 9 7 ." line2="    9 9 9 7 7" line3="    9 7 9 9 7" line4="    9 9 9 9 9" line5="    . 9 9 9 ." line6="`, 0, 0);" numlines="7" declaredvars="p"></mutation><next><block type="typescript_statement" id="9~AQRVDlUZ2(2`/Em4OV" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let px: Fx8;" numlines="1" declaredvars="px"></mutation><next><block type="typescript_statement" id="B`Wu*2xMH?MtCW}Fm:H|" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let py: Fx8;" numlines="1" declaredvars="py"></mutation><next><block type="variables_set" id="5W02Z{hVnIj.y1QeYm[y"><field name="VAR" id="?iu;|b?)1/$h#yvM|yNg">radius</field><value name="VALUE"><shadow type="math_number" id="Q}cd7xT;!ziu`.pr#8SL"><field name="NUM">50</field></shadow></value><next><block type="variables_set" id="C}T:(}(oQ@AvS:8eT(Lm"><field name="VAR" id="Q`]Z[.{+6*M/OSXa5?Ys">cx</field><value name="VALUE"><shadow type="math_number" id="Oj$Xv]oIxl?~fcVsB?^R"><field name="NUM">80</field></shadow></value><next><block type="variables_set" id="6@ed6c{#Q6W#kQ;aytk["><field name="VAR" id="QqLU^kYSOCqDYxeESy28">cy</field><value name="VALUE"><shadow type="math_number" id="~TDY8wECk9k03V1v3Zbr"><field name="NUM">60</field></shadow></value><next><block type="typescript_statement" id="+0-1B(%T*$t2#nsS%1sz" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="p.left = Fx8(cx - 12 + (radius * Math.cos(angle * Math.PI / 180)));" numlines="1"></mutation><next><block type="typescript_statement" id="Gbor;,NxrZpO%Gy9{%S(" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="p.top = Fx8(cy - 4 + (radius * Math.sin(angle * Math.PI / 180)));" numlines="1"></mutation><next><block type="variables_set" id="y1]EO8sC5K,kMT11O:.5"><field name="VAR" id="h3FEn4IZ1Z.av0Gj}7t^">mySprite</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="$BQzgjyNiySnK?RBstrU"><value name="img"><shadow type="screen_image_picker" id="h82+eenqV?dS~:).$j5X"><field name="img">img`
. 5 5 5 . 
5 5 5 5 5 
4 4 5 5 5 
5 5 5 4 4 
. 5 5 5 . 
`</field></shadow></value><value name="kind"><shadow type="spritekind"/><block type="math_number" id="Z+?V8xxW.*E/rhAN@7]~"><field name="NUM">0</field></block></value></block></value><next><block type="run_image_animation" id="KHZs[[P*f~Cu5,*r$69:"><value name="sprite"><shadow type="variables_get" id="7b9LI[s)!{6|!v+J~:4S"><field name="VAR" id="h3FEn4IZ1Z.av0Gj}7t^">mySprite</field></shadow></value><value name="frames"><shadow type="animation_editor" id="s77qV4#g3-e[wi6;/*pO"><field name="frames">[img`
. 4 5 5 . 
5 5 5 5 5 
5 5 5 5 5 
5 5 5 4 5 
. 5 5 4 . 
`,img`
. 4 5 5 . 
5 4 5 5 5 
5 5 5 5 5 
5 5 5 5 5 
. 5 5 4 . 
`]</field></shadow></value><value name="frameInterval"><shadow type="timePicker" id="ug74##BJN@B2G=3LjLgK"><field name="ms">100</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="Fj3YD,==j2mE;Xi.6bO1"><field name="on">true</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="gameupdate" id=";l_vrwg|=%9BJ7*L})tZ" x="553" y="20"><statement name="HANDLER"><block type="variables_change" id="8!T/ey|vKus+xE%y.2;E"><field name="VAR" id="t%jtA=!rrmR0^}eo:@X@">angle</field><value name="VALUE"><shadow type="math_number" id="~D7pnj%W9A?IN)h0_QMv"><field name="NUM">0.5</field></shadow></value><next><block type="typescript_statement" id="VJQ$Nsk:`6NT}(|2j$i5" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="px = Fx8(cx - 12 + (radius * Math.cos(angle * Math.PI / 180)));" numlines="1"></mutation><next><block type="typescript_statement" id="^+rlc,museyv;NAMciNE" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="py = Fx8(cy - 4 + (radius * Math.sin(angle * Math.PI / 180)));" numlines="1"></mutation><next><block type="typescript_statement" id="Mf7-ZdG=yxaf@-9Kxlr8" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="p.move(Fx.sub(px, p.left), Fx.sub(py, p.top));" numlines="1"></mutation><comment id="undefined" pinned="false" h="80" w="160">Must call move and not modify left/top directly</comment></block></next></block></next></block></next></block></statement></block></xml>